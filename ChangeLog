WeeChat - Wee Enhanced Environment for Chat
===========================================

ChangeLog - 2006-05-20

Version 0.1.9 (under dev!):
   * added backtrace when WeeChat crashes, log file automatically renamed
   * added lock for log file (~/.weechat/weechat.log), only one WeeChat
     process can use this file (bug #16382)
   * fixed crash with malformed UTF-8 strings
   * fixed crash with ncurses color when too many colors defined in ncurses
     (bug #16556)
   * added new key to find previous completion (shift-tab by default)
   * fixed bug with long outgoing IRC messages (> 512 bytes) (bug #16358)
   * fixed Ruby crash when handler does not return OK or KO (bug #16552)
   * fixed UTF-8 display bug with chars using more than one cell on screen
     (bug #16356)
   * fixed display bug with DCC file size when > 1 Gb
   * fixed refresh bug (deadlock in curses) when terminal is resized
     (bug #16542)
   * fixed nicklist sort bug
   * added russian translations (thanks to Pavel Shevchuk)
   * added german doc (thanks to Frank Zacharias)
   * added missing IRC commands (006, 007, 290, 292, 310, 379, 437, 974)
   * fixed crash when multiple pv have same name: now it's forbidden
     and pv buffer is not renamed (when a nick changes) if another
     exists with same name (bug #16369)
   * command /clear [-all] now clears hotlist
   * fixed crash after /upgrade if a line in history is empty (bug #16379)
   * fixed many crashes with DCC chat (bug #16416)
   * added new option to customize input prompt
   * added nick modes
   * fixed commands 332, 333 (/topic now ok when channel is not opened)
   * removed color encoding and charset conversion for commands (only
     allowed in text sent to channel/private)
   * added hostnames associeted to nicks (available for /ban completion)
   * added "+p" mode for channels, fixed mode display in status bar
   * added nick alignment options
   * fixed /names command: now displays result when not on a channel
   * fixed refresh bug (too many refresh) when terminal is resized
   * fixed nicklist display bugs when on top or bottom of chat window
   * added keyboard handler to plugin API
   * improved script plugin loader
   * added hostname/IP option for connection to server
   * fixed --disable-plugins option in configure script
   * added /setp command (set plugin options)
   * fixed high CPU usage when running under a screen that has been killed
   * aliases are executed before WeeChat/IRC commands, /builtin command added
   * added /cycle command, /part command does close buffer any more (use
     /buffer close (or alias /close) to part and close buffer

Version 0.1.8 (2006-03-18):
   * improved Ruby plugin
   * fixed /set command when internal server name contains one or many dots
   * fixed get_info plugin API function when no server at all is opened
   * fixed display bug when top of buffer is displayed and first line is
     removed (according to "history_max_lines" setting)
   * fixed /mode command output
   * improved alias completion (now uses target command for completion)
   * fixed completion problem in private with nicks
   * added missing IRC command (487)
   * added inactivity time, available for plugins via get_info("inactivity")
   * keys alt-{home|end} to scroll top/bottom, alt-{f11-f12} to scroll
     nicklist top/bottom
   * added special names for plugin message handlers: weechat_pv,
     weechat_highlight, weechat_ctcp, weechat_dcc
   * script plugins now load scripts in WeeChat system share directory
   * /msg command does not open any buffer any more
   * fixed crash when using global history (when older entry is removed)
   * added IRC raw data buffer (new key: alt-J + alt-R)
   * fixed display bug with /kill command
   * added new plugins functions: add_timer_handler, remove_timer_handler,
     remove_infobar
   * plugin messages handlers now called when message is ignored (by /ignore)
   * new behaviour for messages ignored by a message handler: now WeeChat
     executes standard handler, treating message as "ignored"
   * many commands allowed for aliases
   * many commands allowed when connecting to server
   * added Lua script plugin
   * added functions in plugins API: get_server_info, free_server_info,
     get_channel_info, free_channel_info, get_nick_info, free_nick_info
   * added option "look_nick_complete_first" (patch from Gwenn)
   * added option "look_open_near_server" (patch from Gwenn)
   * fixed bug with /upgrade and servers buffer
   * fixed bug with "get_dcc_info" plugin interface function
   * added new scroll keys for a few lines up/down (default: meta-pgup/pgdn)
     (patch from Pistos)
   * added new option "irc_away_check_max_nicks" to disable away check on
     channels with high number of nicks (patch from Gwenn)
   * added new command line argument for setting WeeChat homedir (-d or --dir)
     (patch from Gwenn)
   * fixed bug with charset in infobar highlights
   * fixed bug with buffer detection in plugins/scripts commands
   * fixed bug with /history command
   * added option "irc_show_away_once", to show away message only once in pv
   * added partial hungarian translation

Version 0.1.7 (2006-01-14):
   * fixed msg command (now allowed in private buffer with "*" as target)
   * removed "irc_default_msg_away" setting, for RFC 2812 conformity
     (/away command wihtout argument only removes away status),
     new values for "irc_display_away" (off, local, channel)
   * fixed refresh bug with Solaris when term size is changed
   * replaced Texinfo doc by XML Docbook
   * added color for window separators (when splited)
   * added completion system for plugins/scripts commands
   * fixed plugins autoload
   * added charset by server and channel, new command: /charset
   * added Ruby script plugin
   * added /upgrade command
   * added ETA (Estimated Time of Arrival) for DCC files
   * /nick command is now allowed when not connected to server
   * added server/channel arg to /buffer command for jumping to buffer
   * fixed display bug in chat window when a message length equals to window
     width
   * added new keys for switching to other windows: alt-W followed by
     alt-{arrow}
   * added new keys for scrolling to previous/next highlight: alt-P / alt-N
   * added "read marker": an indicator for first unread line in a
     server or channel buffer (new key alt-U to scroll to marker)
   * new window maganement: custom size for windows, auto resize when
     terminal is resized
   * fixed infinite loop when resizing term to small size
   * added /history command

Version 0.1.6 (2005-11-11):
   * new color management system, IRC colors are now correctly
     displayed and can be removed by new options irc_colors_receive
     and irc_colors_send
   * fixed scroll problem when one line is bigger than screen size
   * added setting for having one server buffer for all servers
     (look_one_server_buffer)
   * added setting for ignoring some chars when completing nicks
   * fixed IRC message parser bug
   * signal SIGPIPE is now ignored
   * added partial match for highlights
   * added dcc_own_ip and dcc_port_range settings
   * full UTF-8 support, auto-detection of UTF-8 usage (locale)
   * added "Day changed to [date]" message when day changes
   * new plugin interface, rewritten from scratch: now loads dynamic C
     library, and perl/python are script plugins
   * log options (for server/channel/private) can now be set while
     WeeChat is running
   * added channel modes +e and +f
   * added some missing IRC commands, fixed command 367
   * added colors for input buffer and current channel of status bar
   * added online help for config options (with /set full_option_name)
   * enhanced "smart" hotlist, with names (new options:
     look_hotlist_names_{count|level|length}) 

Version 0.1.5 (2005-09-24):
   * added /ame command (send CTCP action to all channels of all
     connected servers)
   * added setting "irc_notice_as_pv" to see notices as pv
   * added nicks colors in setup file
   * fixed DCC bug: delete failed file only if really empty (on disk)
   * fixed IRC message parser bug
   * fixed scroll problem (screen moving when scrolling and new line
     displayed)
   * fixed infinite loop when scrolling back and displaying long lines
   * fixed crash when closing a buffer used by more than one window
   * added some missing IRC commands
   * fixed DCC display bug (now decodes string according to charset)
   * added /ignore and /unignore commands
   * fixed bug with strings comparison (str[n]casecmp) and some locales
     (like turkish), now using ASCII comparison (thanks to roktas)
   * signal SIGQUIT is now ignored
   * fixed refresh bug when one line is bigger than screen size
   * fixed look_nicklist_min_size and look_nicklist_max_size options
   * fixed refresh bug when changing channel modes
   * jump to next server now saves current channel buffer for each server
   * ctrl-up/ctrl-down keys added to call previous/next command in global
     history (common to all buffers)

Version 0.1.4 (2005-07-30):
   * join and part/quit prefixes (arrows) now displayed with different colors
   * added "irc_highlight" setting, to get highlight with any word
   * fixed auto-rejoin for channels with key
   * fixed /ctcp command (now any command/data allowed)
   * added /amsg command (send text to all channels of all connected servers)
   * fixed SIGSEGV handler (now write a core file by aborting program)
   * fixed statusbar & infobar background refresh problem with some systems
   * added color for private in hotlist (different than color for highlight)
   * added DCC resume and timeout
   * added function for Perl/Python to get DCC list
   * fixed FIFO pipe (command now authorized on a buffer not connected
     to an IRC server)
   * topic completion now decodes UTF-8 string
   * fixed bug with IRC URL on command line (irc://)
   * new keyboard management: keys are setup in config file, new command
     /key was added and some new default keys were added, alt-K key is
     used to grab key (useful for /key command)
   * added seconds in infobar time (optional thanks to new setting)
   * fixed some curses refreshs
   * channels auto-prefixed by "#" (if no prefix found) for /join command

Version 0.1.3 (2005-07-02):
   * proxy support (http, socks4, socks5) with authentification (http, socks5)
     and ipv6 support (client to proxy)
   * completion added for config option (with /set command)
   * commands from users outside channel now authorized (if special user or
     channel without "n" flag)
   * added IPv6 support
   * kill command now received and displayed
   * added SSL support
   * channel notify levels are saved in config file (new option
     "server_notify_levels" for server sections)
   * part message now accepts %v (replaced by WeeChat version), like quit message
   * errors while loading perl scripts are now displayed in server buffer
     (instead of current buffer)
   * in python scripts, all messages written in stdin and stderr are redirected
     in server buffer
   * fix a filename error while loading a python script manually
   * fixed plugins "print" and "prnt" functions: now ok for writing on server
     buffers
   * fixed color problem with new libcurses version
   * fixed crash when using alt-S or alt-X on DCC buffer (alt-D)
   * fixed startup crash when config file (~/.weechat/weechat.rc) is not found
   * improved Perl/Python libs detection for ./configure script

Version 0.1.2 (2005-05-21):
   * added Python plugin support, improved Perl interface (and now Perl/Python
     libraries are checked by configure script)
   * added nicklist scroll keys (alt+{home/end/pgup/pgdn} or F11/F12)
   * added transfer rate for DCC files
   * added "-all" option for /nick command
   * buffers timestamp can now be changed (new option in config file)
   * WeeChat now ok under *BSD and Mac OS X
   * fixed nicklist sort
   * fixed crash when purging old DCC
   * fixed crash with 64-bits arch (like AMD64) when converting UTF-8
   * added missing IRC commands (307, 341, 485, 671)

Version 0.1.1 (2005-03-20):
   * added nicks count for channel buffers
   * added FIFO pipe for remote control
   * added crash dump when WeeChat receives SIGSEGV (Segmentation fault)
   * added new display engine: doesn't cut words at end of lines
   * added DCC send and DCC chat
   * added /halfop & /dehalfop commands, fixed halfop display bug in nicklist
   * added /ban, /unban and /kickban commands
   * added spanish translation
   * added --irc-commands and --weechat-commands command line options
   * connection to IRC server is now made by child process (non blocking)
   * added support for UnrealIrcd ("~" for chan owner, "&" for chan admin)
   * new key for window switch (now: F5/F6=switch buffer, F7/F8=switch window)
   * on server buffer, only server messages are logged
   * improved /help command output
   * plugins messages are logged with new config option (log_plugin_msg)
   * fixed /kick command
   * fixed /invite command (and now invite requests are displayed)
   * fixed /buffer close command (now ok when disconnected from server)
   * fixed display bugs when many windows are opened

Version 0.1.0 (2005-02-12):
   * improved /window command: now split and merge are ok
   * away nicks are now displayed with another color (new option: "irc_away_check")
   * added away indicator in status bar
   * added lag indicator (and auto-disconnect after a delay if important lag)
   * improved completion: now completes commands arguments (IRC and internal),
     when only one completion matches, completion mechanism is stoped (to
     complete command arg for example)
   * improved /set command: empty strings are allowed, new colors, server
     options can be changed while WeeChat is running
   * added default away/part/quit messages in config file
   * new [irc] section in config file, option "look_display_away" moved to
     "irc_display_away"
   * server messages & errors are all prefixed (by 3 chars, like '-@-')
   * added new options for charset (UTF-8 support): look_charset_decode,
     look_charset_encode and look_charset_internal
   * fixed many memory leaks
   * fixed colors bug: removed "gray" color (replaced by "default"), colors are
     ok when terminal has white (or light) background
   * fixed crash when resizing terminal to small size
   * fixed crash when multiple servers and big messages received from server
   * fixed crash when closing some private buffers
   * fixed crash when unknown section with option(s) in config file
   * fixed /op, /deop, /voice, /devoice (now ok with many nicks)
   * fixed /me command (now ok without parameter)
   * fixed /away command (now ok if not away)
   * logs are now disabled by default (server/channel/private)

Version 0.0.9 (2005-01-01):
   * auto-reconnection to server (new options: server_autoreconnect (on/off),
     server_autoreconnect_delay (in seconds))
   * major bug fixed when socket is closed by server (100% CPU usage fixed),
     and disconnections are now ok (all channels are "closed", history is still
     visible, and buffer will be used again if reconnection to server)
   * option "look_remove_colors_from_msgs" is now working
   * fixed display of nick mode changes
   * new command "/buffer close" (close any server/channel/private buffer)
   * /notice command fixed (and display when received from server)
   * new keys: ctrl+A (=home), ctrl+E (=end), ctrl+W (= ctrl+Backspace),
     alt-S (switch to server buffer), alt-X (switch to first channel of next
     server)
   * added new config option: "server_command_delay" (delay in seconds after
     startup command for each server)

Version 0.0.8 (2004-10-30):
   * /kick command fixed: now ok with many words as reason
   * nickserv passwords hidden (new config option: log_hide_nickserv_pwd on/off)
   * auto-rejoin channels when kicked (new config option: server_autorejoin on/off)
   * added IRC::command function for Perl scripts
   * fixed bug when adding alias with same name as other
   * /buffer command developed (buffers list, move and notify)
   * logging buffers to disk (server/channel/private according to user prefs)
   * Away now announced in channels, and config option "look_display_away" added
     to enable/disable this feature
   * Fixed crash when resizing terminal to very small size
   * "-MORE-" message is now erased when switching to another buffer
   * DCC file receive ok (alt-D for DCC view)
   * /query command now reopens private buffer if already opened
   * added key for redrawing terminal (ctrl-L)
   * added key for clearing hotlist (alt-R)

Version 0.0.7 (2004-08-08):
   * new "col_status_delimiters" config option
   * /buffer command added, buffers ordered by number, auto-jump to active
     buffers (alt-A), jump to buffers by number (alt-number)
   * /window command added, split terminal horizontally/vertically
   * unique color for each nick (based on nickname)
   * action messages are now considered as messages, not crappy joins/parts
   * fixed display bug when nicklist is displayed at bottom of screen
   * added history limit (text buffer & commands)
   * replaced --enable-debug with --with-debug option for ./configure, which is
     now integer: 1 = compiler debug flag, 2 = same 1 with verbose debug messages
     in WeeChat (default: 0 = no debug)

Version 0.0.6 (2004-06-05):
   * improved channel highlight (priority to message vs join/part)
   * fixed bug when opened private win and remote user changes his nick
   * /query command added (starts private conversation)
   * IRC messages 476, 477 added
   * /mode command is now ok and channel flags are displayed in status bar
   * fixed display bug (text was blinking when scrolling)
   * CTCP Version reply is now in english only and doesn't show host (security reason)

Version 0.0.5 (2004-02-07):
   * /set command to modify config options when WeeChat is running
   * fixed look_nicklist config option, now enables/disables nicklist
   * secured code to prevent buffer overflows and memory leaks
   * fixed QUIT IRC command: now sent to all connected servers (not only current)
   * URL command line parameter to connect to server(s)
   * new Perl script function to display message in info bar ("IRC::print_infobar")
   * info bar highlight notifications
   * info bar timestamp is added to config ("look_infobar_timestamp")
   * added info bar (optional, "look_infobar" to enable it, "on" by default)
   * fixed crash with /oper command
   * for default config file, nick is now based on un*x username (thanks to Witukind)
   * fixed crash when config file cannot be written
   * -c (or --config) command line parameter added to see config file options
   * highlight action messages

Version 0.0.4 (2004-01-01):
   * Perl plugin, with auto-load
   * when private window is created (another user is talking), WeeChat does not
     switch to this window
   * highlight when our nick is written in a channel/private window
   * ctrl-C now intercepted (ignored)
   * debug messages can be enabled via ./configure --enbale-debug option

Version 0.0.3 (2003-11-03):
   * ./configure script to build WeeChat
   * nicks are now correctly sorted (op, halfop, voice, other)
   * fixed problem with '353' IRC message (nicklist)
   * fixed problem when nick is truncated by server
   * fixed crash when entering text without any server connection
   * fixed crash when /set command is executed
   * fixed display bug (text was blinking when scrolling)
   * french translation
   * new IRC command: /stats, /service, /squit, /motd, /lusers, /links, /time,
     /trace, /admin, /info, /servlist, /squery, /who, /whowas, /die, /summon,
     /users, /wallops, /userhost, /ison, /ctcp ping
   * code cleanup

Version 0.0.2 (2003-10-05):
   * added commands /rehash and /restart
   * command & auto-join channels when connected to server
   * new commands for alias: /alias, /unalias (new section in config file)
   * config is now saved automatically when quitting WeeChat, /save command added
   * new commands for servers: /server, /connect, /disconnect
   * added autoconnect flag for each server in config file
   * added "look_set_title" option in config file
   * term window title is modified with WeeChat name and version
   * fixed nicklist display bug
   * fixed crash when sending command which can only be received
   * CTCP version returns more info (about OS)

Version 0.0.1 (2003-09-27):
   * ncurses GUI with color output
   * multi-servers
   * channel windows, with nicklist (position: top, bottom, left or right)
   * private windows
   * IRC commands: away, ctcp, deop, devoice, invite, join, kick, kill, list,
     me, mode, msg, names, nick, notice, op, oper, part, ping, pong, quit,
     quote, topic, version, voice, whois
   * WeeChat commands: clear, help, set (partial)
   * many config options
   * log file (~/.weechat/weechat.log)
   * nicklist can be moved on top, bottom, left or right of window
